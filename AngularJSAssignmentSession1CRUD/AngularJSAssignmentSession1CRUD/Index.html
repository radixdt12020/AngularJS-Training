<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>CRUD Operation</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="Script/angular.min.js"></script>
    <script src="Script/main.js"></script>
    <script src="Script/employee.js"></script>
    <style>
        .ErrorMessage {
            color: red;
        }
    </style>
</head>
<body ng-app="myapp">
    <div class="container" ng-controller="EmployeeCtrl">

        <h2 ng-show="!IsUpdate">Add Emplyee:</h2>
        <h2 ng-show="IsUpdate">Edit Employee:</h2>
        <div class="row" ng-show="showMsg">
            <div class="col-xs-12">
                <p class="alert alert-success">
                    <strong>{{message}}</strong>
                </p>
            </div>
        </div>

        <form name="myForm">

            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label>Employee Name</label>
                        <input type="text" id="EmpName" name="EmpName" ng-model="ObjEmployee.EmpName" required class="form-control"  placeholder="Employee Name"/>
                        <span class="ErrorMessage" ng-show="myForm.EmpName.$touched && myForm.EmpName.$invalid ">
                            <span ng-show="myForm.EmpName.$error.required">Employee Name is required.</span>
                        </span>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <label>Employee Age</label>
                        <input type="number" id="EmpAge" name="EmpAge" ng-model="ObjEmployee.EmpAge" required class="form-control" maxlength="3"  placeholder="Employee Age"/>
                        <span class="ErrorMessage" ng-show="myForm.EmpAge.$touched && myForm.EmpAge.$invalid">
                            <span ng-show="myForm.EmpAge.$error.required">Employee Age is required.</span>
                            <span ng-show="myForm.EmpAge.$error.maxlength">Max length of Employee Age is 3.</span>
                        </span>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label>Employee Gender</label>
                        <input type="radio" name="EmpGender" ng-model="ObjEmployee.EmpGender" required value="Female" />Female
                        <input type="radio" name="EmpGender" ng-model="ObjEmployee.EmpGender" required value="Male" />Male
                        <input type="radio" name="EmpGender" ng-model="ObjEmployee.EmpGender" required value="Other" />Other
                        <span class="ErrorMessage" ng-show="myForm.EmpGender.$touched && myForm.EmpGender.$invalid">
                            <span ng-show="myForm.EmpGender.$error.required">Employee Gender is required.</span>
                        </span>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <label>Employee Designation</label>
                        <select ng-model="ObjEmployee.EmpDesignation" class="form-control" name="EmpDesignation" required >
                            <option value="Software Developer" selected="Selected" >Software Developer</option>
                            <option value="Graphics Designer">Graphics Designer</option>
                            <option value="QA">QA</option>
                            <option value="System Admin">System Admin</option>
                        </select>
                        <span class="ErrorMessage" ng-show="myForm.EmpDesignation.$touched && myForm.EmpDesignation.$invalid">
                            <span ng-show="myForm.EmpDesignation.$error.required">Employee Designation is required.</span>
                        </span>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label>Employee Salary</label>
                        <input type="number" id="EmpSalary" name="EmpSalary" ng-model="ObjEmployee.EmpSalary" required class="form-control" maxlength="10"  placeholder="Employee Salary" />
                        <span class="ErrorMessage" ng-show="myForm.EmpSalary.$touched && myForm.EmpSalary.$invalid">
                            <span ng-show="myForm.EmpSalary.$error.required">Employee Salary is required.</span>
                        </span>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <label>Employee Location</label>
                        <input type="text" id="EmpLocation" name="EmpLocation" ng-model="ObjEmployee.EmpLocation" required class="form-control"  placeholder="Employee Location" />
                        <span class="ErrorMessage" ng-show="myForm.EmpLocation.$touched && myForm.EmpLocation.$invalid">
                            <span ng-show="myForm.EmpLocation.$error.required">Employee Location is required.</span>
                        </span>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label>Employee Email</label>
                        <input type="email" id="EmpEmail" name="EmpEmail" ng-model="ObjEmployee.EmpEmail" required class="form-control"  placeholder="Employee Email" />
                        <span class="ErrorMessage" ng-show="myForm.EmpEmail.$touched && myForm.EmpEmail.$invalid">
                            <span ng-show="myForm.EmpEmail.$error.required">Email is required.</span>
                            <span ng-show="myForm.EmpEmail.$error.email">Invalid email address.</span>
                        </span>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <label>Employee ContactNo</label>
                        <input type="number" id="EmpContactNo" name="EmpContactNo" ng-model="ObjEmployee.EmpContactNo" required class="form-control" maxlength="10"  placeholder="Employee Contact No" />
                        <span class="ErrorMessage" ng-show="myForm.EmpContactNo.$touched && myForm.EmpContactNo.$invalid">
                            <span ng-show="myForm.EmpContactNo.$error.required">Employee Contact No is required.</span>
                        </span>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label>Employee Date Of Joining</label>
                        <input type="date" id="EmpDateOfJoining" name="EmpDateOfJoining" ng-model="ObjEmployee.EmpDateOfJoining" max="{{today| date:'yyyy-MM-dd'}}" required class="form-control" />
                        <span class="ErrorMessage" ng-show="myForm.EmpDateOfJoining.$touched && myForm.EmpDateOfJoining.$invalid">
                            <span ng-show="myForm.EmpDateOfJoining.$error.required">Employee Date Of Joining is required.</span>
                        </span>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <!--<label>Employee Code</label>
                        <input type="text" ng-model="ObjEmployee.EmpCode" id="EmpCode" name="EmpCode" class="form-control"  />-->
                        <!--<span class="ErrorMessage" ng-show="myForm.EmpCode.$touched && myForm.EmpCode.$invalid">
                            <span ng-show="myForm.EmpCode.$error.required">Employee Code is required.</span>
                        </span>-->
                        <!--<span class="ErrorMessage"ng-show="form.EmpCode.$error.CheckEmpCode">This Employee Code is already taken!</span>-->

                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-6">
                    <!--<input type="submit" ng-click="SubmitData(ObjEmployee)" class="btn btn-success" value="Submit" ng-disabled="myForm.EmpName.$invalid ||
               myForm.EmpAge.$invalid ||
               myForm.EmpGender.$invalid ||
               myForm.EmpDesignation.$invalid ||
               myForm.EmpSalary.$invalid ||
               myForm.EmpLocation.$invalid ||
               myForm.EmpDateOfJoining.$invalid ||
               myForm.EmpEmail.$invalid ||
               myForm.EmpContactNo.$invalid" />-->
                    <input type="submit" ng-click="SubmitData(ObjEmployee)" class="btn btn-success" value="Submit" ng-disabled="myForm.$invalid"  />
                    <button class="btn btn-default" ng-click="ClearData()">Reset</button>
                </div>
            </div>

        </form>

        <br />
        <h2>Emplyee Details:</h2>
        <div>
            <table class="table table-striped table-bordered">
                <thead class="">
                    <tr>
                        <th>Id</th>
                        <!--<th>Code</th>-->
                        <th>Name</th>
                        <th>Age</th>
                        <th>Gender</th>
                        <th>Designation</th>
                        <th>Salary</th>
                        <th>Location</th>
                        <th>Email</th>
                        <th>Date Of Joining</th>
                        <th>Contact No</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="emp in EmployeeListData">
                        <td>{{emp.EmpId}}</td>
                        <!--<td>{{emp.EmpCode}}</td>-->
                        <td>{{emp.EmpName | uppercase}}</td>
                        <td>{{emp.EmpAge}}</td>
                        <td>{{emp.EmpGender}}</td>
                        <td>{{emp.EmpDesignation}}</td>
                        <td>{{emp.EmpSalary}}</td>
                        <td>{{emp.EmpLocation}}</td>
                        <td>{{emp.EmpEmail}}</td>
                        <td>{{emp.EmpDateOfJoining | date:'yyyy-MM-dd'}}</td>
                        <td>{{emp.EmpContactNo}}</td>
                        <td>
                            <input type="button" class="btn btn-primary" value="Edit" data-ng-click="EditData(emp.EmpId)" />
                            <input type="button" class="btn btn-primary" value="Delete" data-ng-click="DeleteData(emp)" />
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

</body>
</html>